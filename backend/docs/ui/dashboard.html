<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚´ ìŠ¤í™ ë¶„ì„ - ìŠ¤í…ì—…(Step-Up)</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .dashboard-content {
            background: var(--bg-light);
            min-height: calc(100vh - 60px);
            padding: 3rem 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 0.5rem 0;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .chart-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }

        .spec-list-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .spec-category {
            margin-bottom: 2rem;
        }

        .spec-category:last-child {
            margin-bottom: 0;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        .category-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .spec-items {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .spec-item {
            padding: 1rem;
            background: var(--bg-light);
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .spec-item-content {
            flex: 1;
        }

        .spec-item-title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.25rem;
        }

        .spec-item-detail {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--text-light);
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .cta-section {
            text-align: center;
            margin-top: 2rem;
            padding: 2rem;
            background: linear-gradient(135deg, var(--primary-color), #357ABD);
            border-radius: 12px;
            color: white;
        }

        .cta-section h3 {
            margin-bottom: 1rem;
        }

        .cta-section p {
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="navbar">
        <div class="container">
            <a href="roadmap.html" class="logo">ğŸ¯ ìŠ¤í…ì—…</a>
            <ul class="nav-links">
                <li><a href="roadmap.html">ë¡œë“œë§µ</a></li>
                <li><a href="dashboard.html">ë‚´ ìŠ¤í™</a></li>
                <li><a href="goal-setting.html">ëª©í‘œ ì„¤ì •</a></li>
                <li><a href="#" onclick="logout(); return false;">ë¡œê·¸ì•„ì›ƒ</a></li>
            </ul>
        </div>
    </nav>

    <!-- í˜ì´ì§€ í—¤ë” -->
    <div class="page-header">
        <div class="container">
            <h1>ë‚´ ìŠ¤í™ ë¶„ì„</h1>
            <p>í˜„ì¬ ë‚˜ì˜ ì—­ëŸ‰ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</p>
        </div>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="dashboard-content">
        <div class="container">
            <!-- í†µê³„ ì¹´ë“œ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">ì–´í•™ ì„±ì </div>
                    <div class="stat-value" id="languageCount">0</div>
                    <div class="stat-label">ê°œ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ìê²©ì¦</div>
                    <div class="stat-value" id="certCount">0</div>
                    <div class="stat-label">ê°œ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">í”„ë¡œì íŠ¸</div>
                    <div class="stat-value" id="projectCount">0</div>
                    <div class="stat-label">ê°œ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ëŒ€ì™¸í™œë™</div>
                    <div class="stat-value" id="activityCount">0</div>
                    <div class="stat-label">ê°œ</div>
                </div>
            </div>

            <!-- ë ˆì´ë” ì°¨íŠ¸ -->
            <div class="chart-section">
                <h2 class="card-title">ì¢…í•© ìŠ¤í™ ë¶„ì„</h2>
                <div class="chart-container">
                    <canvas id="radarChart" width="400" height="400"></canvas>
                </div>
            </div>

            <!-- ìŠ¤í™ ìƒì„¸ ë¦¬ìŠ¤íŠ¸ -->
            <div class="spec-list-section">
                <h2 class="card-title" style="margin-bottom: 2rem;">ìƒì„¸ ìŠ¤í™ ì •ë³´</h2>

                <!-- í•™ë ¥ ì •ë³´ -->
                <div class="spec-category">
                    <div class="category-header">
                        <h3 class="category-title">ğŸ“š í•™ë ¥ ì •ë³´</h3>
                    </div>
                    <div id="educationInfo"></div>
                </div>

                <!-- ì–´í•™ ëŠ¥ë ¥ -->
                <div class="spec-category">
                    <div class="category-header">
                        <h3 class="category-title">ğŸŒ ì–´í•™ ëŠ¥ë ¥</h3>
                    </div>
                    <div class="spec-items" id="languageList"></div>
                </div>

                <!-- ìê²©ì¦ -->
                <div class="spec-category">
                    <div class="category-header">
                        <h3 class="category-title">ğŸ† ìê²©ì¦</h3>
                    </div>
                    <div class="spec-items" id="certificateList"></div>
                </div>

                <!-- í”„ë¡œì íŠ¸ -->
                <div class="spec-category">
                    <div class="category-header">
                        <h3 class="category-title">ğŸ’¼ í”„ë¡œì íŠ¸ ê²½í—˜</h3>
                    </div>
                    <div class="spec-items" id="projectList"></div>
                </div>

                <!-- ëŒ€ì™¸í™œë™ -->
                <div class="spec-category">
                    <div class="category-header">
                        <h3 class="category-title">ğŸ¯ ëŒ€ì™¸í™œë™</h3>
                    </div>
                    <div class="spec-items" id="activityList"></div>
                </div>
            </div>

            <!-- CTA ì„¹ì…˜ -->
            <div class="cta-section">
                <h3>ì´ì œ ëª©í‘œë¥¼ ì„¤ì •í•´ë³´ì„¸ìš”!</h3>
                <p>ì‹¤ì œ ì±„ìš© ê³µê³ ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¹ì‹ ë§Œì˜ ë¡œë“œë§µì„ ë§Œë“¤ì–´ë³´ì„¸ìš”</p>
                <a href="goal-setting.html" class="btn btn-secondary">ëª©í‘œ ì„¤ì •í•˜ê¸°</a>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        // ìŠ¤í™ ë°ì´í„° ë¡œë“œ
        const specData = StorageManager.getSpec();

        if (!specData) {
            // ìŠ¤í™ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ì˜¨ë³´ë”©ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
            window.location.href = 'onboarding.html';
        } else {
            // ë°ì´í„° í‘œì‹œ
            displaySpec(specData);
        }

        function displaySpec(data) {
            // í†µê³„ ì—…ë°ì´íŠ¸
            document.getElementById('languageCount').textContent = data.languages?.length || 0;
            document.getElementById('certCount').textContent = data.certificates?.length || 0;
            document.getElementById('projectCount').textContent = data.projects?.length || 0;
            document.getElementById('activityCount').textContent = data.activities?.length || 0;

            // í•™ë ¥ ì •ë³´
            if (data.education) {
                const edu = data.education;
                const graduationText = {
                    'graduated': 'ì¡¸ì—…',
                    'expected': 'ì¡¸ì—… ì˜ˆì •',
                    'enrolled': 'ì¬í•™ ì¤‘'
                };
                
                document.getElementById('educationInfo').innerHTML = `
                    <div class="spec-item">
                        <div class="spec-item-content">
                            <div class="spec-item-title">${edu.school} - ${edu.major}</div>
                            <div class="spec-item-detail">í•™ì : ${edu.gpa} | ${graduationText[edu.graduation]}</div>
                        </div>
                    </div>
                `;
            }

            // ì–´í•™ ëŠ¥ë ¥
            const languageList = document.getElementById('languageList');
            if (data.languages && data.languages.length > 0) {
                languageList.innerHTML = data.languages.map(item => `
                    <div class="spec-item">
                        <div class="spec-item-content">
                            <div class="spec-item-title">${item.type} ${item.score}ì </div>
                            <div class="spec-item-detail">ì·¨ë“ì¼: ${item.date}</div>
                        </div>
                        <span class="badge badge-success">ë³´ìœ </span>
                    </div>
                `).join('');
            } else {
                languageList.innerHTML = '<div class="empty-state"><p>ë“±ë¡ëœ ì–´í•™ ì„±ì ì´ ì—†ìŠµë‹ˆë‹¤</p></div>';
            }

            // ìê²©ì¦
            const certList = document.getElementById('certificateList');
            if (data.certificates && data.certificates.length > 0) {
                certList.innerHTML = data.certificates.map(item => `
                    <div class="spec-item">
                        <div class="spec-item-content">
                            <div class="spec-item-title">${item.name}</div>
                            <div class="spec-item-detail">ì·¨ë“ì¼: ${item.date}</div>
                        </div>
                        <span class="badge badge-success">ë³´ìœ </span>
                    </div>
                `).join('');
            } else {
                certList.innerHTML = '<div class="empty-state"><p>ë“±ë¡ëœ ìê²©ì¦ì´ ì—†ìŠµë‹ˆë‹¤</p></div>';
            }

            // í”„ë¡œì íŠ¸
            const projectList = document.getElementById('projectList');
            if (data.projects && data.projects.length > 0) {
                projectList.innerHTML = data.projects.map(item => `
                    <div class="spec-item">
                        <div class="spec-item-content">
                            <div class="spec-item-title">${item.name}</div>
                            <div class="spec-item-detail">${item.role} | ${item.period}</div>
                        </div>
                        <span class="badge badge-info">ì™„ë£Œ</span>
                    </div>
                `).join('');
            } else {
                projectList.innerHTML = '<div class="empty-state"><p>ë“±ë¡ëœ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤</p></div>';
            }

            // ëŒ€ì™¸í™œë™
            const activityList = document.getElementById('activityList');
            if (data.activities && data.activities.length > 0) {
                activityList.innerHTML = data.activities.map(item => `
                    <div class="spec-item">
                        <div class="spec-item-content">
                            <div class="spec-item-title">${item.name}</div>
                            <div class="spec-item-detail">${item.type} | ${item.period}</div>
                        </div>
                        <span class="badge badge-info">ì™„ë£Œ</span>
                    </div>
                `).join('');
            } else {
                activityList.innerHTML = '<div class="empty-state"><p>ë“±ë¡ëœ ëŒ€ì™¸í™œë™ì´ ì—†ìŠµë‹ˆë‹¤</p></div>';
            }

            // ë ˆì´ë” ì°¨íŠ¸ ê·¸ë¦¬ê¸°
            const chartData = {
                labels: ['í•™ë ¥', 'ì–´í•™', 'ìê²©ì¦', 'í”„ë¡œì íŠ¸', 'ëŒ€ì™¸í™œë™'],
                values: [
                    calculateScore('education', data),
                    calculateScore('language', data),
                    calculateScore('certificate', data),
                    calculateScore('project', data),
                    calculateScore('activity', data)
                ]
            };
            
            drawRadarChart('radarChart', chartData);
        }

        function calculateScore(category, data) {
            // ê°„ë‹¨í•œ ì ìˆ˜ ê³„ì‚° ë¡œì§ (ì‹¤ì œë¡œëŠ” ë” ë³µì¡í•œ ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©)
            switch(category) {
                case 'education':
                    return data.education ? 80 : 0;
                case 'language':
                    return Math.min((data.languages?.length || 0) * 40, 100);
                case 'certificate':
                    return Math.min((data.certificates?.length || 0) * 30, 100);
                case 'project':
                    return Math.min((data.projects?.length || 0) * 35, 100);
                case 'activity':
                    return Math.min((data.activities?.length || 0) * 25, 100);
                default:
                    return 0;
            }
        }
    </script>
</body>
</html>
