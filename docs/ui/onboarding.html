<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤í™ ì…ë ¥ - ìŠ¤í…ì—…(Step-Up)</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .onboarding-container {
            background: var(--bg-light);
            min-height: 100vh;
        }

        .progress-section {
            background: white;
            padding: 1.5rem 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .step::after {
            content: '';
            position: absolute;
            top: 15px;
            left: 50%;
            width: 100%;
            height: 2px;
            background: var(--border-color);
            z-index: -1;
        }

        .step:last-child::after {
            display: none;
        }

        .step-circle {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--border-color);
            color: white;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .step.active .step-circle {
            background: var(--primary-color);
        }

        .step.completed .step-circle {
            background: var(--secondary-color);
        }

        .step-label {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .step.active .step-label {
            color: var(--primary-color);
            font-weight: 600;
        }

        .form-section {
            max-width: 800px;
            margin: 3rem auto;
            padding: 0 2rem;
        }

        .section-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--text-dark);
            border-left: 4px solid var(--primary-color);
            padding-left: 1rem;
        }

        .add-more-btn {
            background: var(--bg-light);
            border: 2px dashed var(--border-color);
            color: var(--primary-color);
            padding: 0.75rem;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
            transition: all 0.3s;
        }

        .add-more-btn:hover {
            border-color: var(--primary-color);
            background: rgba(74, 144, 226, 0.1);
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        .item-list {
            margin-top: 1rem;
        }

        .item-card {
            background: var(--bg-light);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.75rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .item-card .item-info {
            flex: 1;
        }

        .item-card .item-info strong {
            display: block;
            color: var(--text-dark);
            margin-bottom: 0.25rem;
        }

        .item-card .item-info small {
            color: var(--text-light);
        }

        .remove-btn {
            background: var(--danger-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="onboarding-container">
        <!-- ì§„í–‰ë„ í‘œì‹œ -->
        <div class="progress-section">
            <div class="step-indicator">
                <div class="step active" id="step1">
                    <div class="step-circle">1</div>
                    <div class="step-label">ê¸°ë³¸ì •ë³´</div>
                </div>
                <div class="step" id="step2">
                    <div class="step-circle">2</div>
                    <div class="step-label">í•™ë ¥/ì–´í•™</div>
                </div>
                <div class="step" id="step3">
                    <div class="step-circle">3</div>
                    <div class="step-label">ê²½í—˜/í™œë™</div>
                </div>
                <div class="step" id="step4">
                    <div class="step-circle">4</div>
                    <div class="step-label">ì™„ë£Œ</div>
                </div>
            </div>
        </div>

        <!-- í¼ ì„¹ì…˜ -->
        <div class="form-section">
            <!-- Step 1: ê¸°ë³¸ ì •ë³´ -->
            <div id="stepContent1" class="step-content">
                <div class="section-card">
                    <h2 class="section-title">ê¸°ë³¸ ì •ë³´</h2>
                    <div class="form-group">
                        <label for="email">ì´ë©”ì¼ ì£¼ì†Œ</label>
                        <input type="email" id="email" class="form-control" value="user@example.com" readonly>
                    </div>
                    <div class="form-group">
                        <label for="jobField">í¬ë§ ì§ë¬´ ë¶„ì•¼ *</label>
                        <select id="jobField" class="form-control" required>
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="frontend">í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ</option>
                            <option value="backend">ë°±ì—”ë“œ ê°œë°œ</option>
                            <option value="fullstack">í’€ìŠ¤íƒ ê°œë°œ</option>
                            <option value="data">ë°ì´í„° ë¶„ì„</option>
                            <option value="ai">AI/ML ì—”ì§€ë‹ˆì–´</option>
                            <option value="marketing">ë§ˆì¼€íŒ…</option>
                            <option value="planning">ê¸°íš</option>
                            <option value="design">ë””ìì¸</option>
                        </select>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="goToStep(2)">ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>

            <!-- Step 2: í•™ë ¥ ë° ì–´í•™ -->
            <div id="stepContent2" class="step-content hidden">
                <div class="section-card">
                    <h2 class="section-title">í•™ë ¥ ì •ë³´</h2>
                    <div class="grid grid-2">
                        <div class="form-group">
                            <label for="school">í•™êµëª… *</label>
                            <input type="text" id="school" class="form-control" placeholder="ì˜ˆ: ì„œìš¸ëŒ€í•™êµ">
                        </div>
                        <div class="form-group">
                            <label for="major">ì „ê³µ *</label>
                            <input type="text" id="major" class="form-control" placeholder="ì˜ˆ: ì»´í“¨í„°ê³µí•™">
                        </div>
                    </div>
                    <div class="grid grid-2">
                        <div class="form-group">
                            <label for="gpa">í•™ì  *</label>
                            <input type="text" id="gpa" class="form-control" placeholder="ì˜ˆ: 4.0 / 4.5">
                        </div>
                        <div class="form-group">
                            <label for="graduation">ì¡¸ì—… ì—¬ë¶€ *</label>
                            <select id="graduation" class="form-control">
                                <option value="graduated">ì¡¸ì—…</option>
                                <option value="expected">ì¡¸ì—… ì˜ˆì •</option>
                                <option value="enrolled">ì¬í•™ ì¤‘</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="section-card">
                    <h2 class="section-title">ì–´í•™ ëŠ¥ë ¥</h2>
                    <div id="languageList" class="item-list"></div>
                    <button class="add-more-btn" onclick="addLanguage()">+ ì–´í•™ ì„±ì  ì¶”ê°€</button>
                </div>

                <div class="section-card">
                    <h2 class="section-title">ìê²©ì¦</h2>
                    <div id="certList" class="item-list"></div>
                    <button class="add-more-btn" onclick="addCertificate()">+ ìê²©ì¦ ì¶”ê°€</button>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="goToStep(1)">ì´ì „</button>
                    <button class="btn btn-primary" onclick="goToStep(3)">ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>

            <!-- Step 3: ê²½í—˜ ë° í™œë™ -->
            <div id="stepContent3" class="step-content hidden">
                <div class="section-card">
                    <h2 class="section-title">í”„ë¡œì íŠ¸ ê²½í—˜</h2>
                    <div id="projectList" class="item-list"></div>
                    <button class="add-more-btn" onclick="addProject()">+ í”„ë¡œì íŠ¸ ì¶”ê°€</button>
                </div>

                <div class="section-card">
                    <h2 class="section-title">ëŒ€ì™¸í™œë™</h2>
                    <div id="activityList" class="item-list"></div>
                    <button class="add-more-btn" onclick="addActivity()">+ í™œë™ ì¶”ê°€</button>
                </div>

                <div class="section-card">
                    <h2 class="section-title">ìê¸°ì†Œê°œ</h2>
                    <div class="form-group">
                        <label for="introduction">í•µì‹¬ ì—­ëŸ‰ ë° ê²½í—˜</label>
                        <textarea id="introduction" class="form-control" rows="6" placeholder="ìì‹ ì„ ì–´í•„í•  ìˆ˜ ìˆëŠ” í•µì‹¬ ì—­ëŸ‰ ë° ê²½í—˜ì„ ê°„ëµíˆ ê¸°ìˆ í•´ì£¼ì„¸ìš”."></textarea>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-outline" onclick="goToStep(2)">ì´ì „</button>
                    <button class="btn btn-secondary" onclick="completeOnboarding()">ì™„ë£Œ</button>
                </div>
            </div>

            <!-- Step 4: ì™„ë£Œ -->
            <div id="stepContent4" class="step-content hidden">
                <div class="section-card text-center">
                    <h1 style="font-size: 3rem; margin-bottom: 1rem;">ğŸ‰</h1>
                    <h2 class="section-title" style="border: none; padding: 0;">ìŠ¤í™ ë“±ë¡ ì™„ë£Œ!</h2>
                    <p style="color: var(--text-light); margin: 1.5rem 0;">
                        ì…ë ¥í•˜ì‹  ìŠ¤í™ì„ ë°”íƒ•ìœ¼ë¡œ ë§ì¶¤í˜• ë¶„ì„ì„ ì œê³µí•©ë‹ˆë‹¤.
                    </p>
                    <button class="btn btn-primary" onclick="window.location.href='dashboard.html'">
                        ë‚´ ìŠ¤í™ ë¶„ì„ ë³´ê¸°
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        let currentStep = 1;
        let languages = [];
        let certificates = [];
        let projects = [];
        let activities = [];

        function goToStep(step) {
            // ì´ì „ ìŠ¤í… ìˆ¨ê¸°ê¸°
            document.getElementById('stepContent' + currentStep).classList.add('hidden');
            document.getElementById('step' + currentStep).classList.remove('active');
            
            // ì™„ë£Œëœ ìŠ¤í… í‘œì‹œ
            if (step > currentStep) {
                document.getElementById('step' + currentStep).classList.add('completed');
            }
            
            // ìƒˆ ìŠ¤í… ë³´ì´ê¸°
            currentStep = step;
            document.getElementById('stepContent' + currentStep).classList.remove('hidden');
            document.getElementById('step' + currentStep).classList.add('active');
            
            window.scrollTo(0, 0);
        }

        function addLanguage() {
            const type = prompt('ì–´í•™ ì¢…ë¥˜ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: TOEIC, TOEFL, IELTS):');
            if (!type) return;
            
            const score = prompt('ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
            if (!score) return;
            
            const date = prompt('ì·¨ë“ì¼ì„ ì…ë ¥í•˜ì„¸ìš” (YYYY-MM-DD):');
            if (!date) return;
            
            const item = { type, score, date };
            languages.push(item);
            renderLanguages();
        }

        function renderLanguages() {
            const list = document.getElementById('languageList');
            list.innerHTML = languages.map((item, index) => `
                <div class="item-card">
                    <div class="item-info">
                        <strong>${item.type} ${item.score}ì </strong>
                        <small>ì·¨ë“ì¼: ${item.date}</small>
                    </div>
                    <button class="remove-btn" onclick="removeLanguage(${index})">ì‚­ì œ</button>
                </div>
            `).join('');
        }

        function removeLanguage(index) {
            languages.splice(index, 1);
            renderLanguages();
        }

        function addCertificate() {
            const name = prompt('ìê²©ì¦ëª…ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!name) return;
            
            const date = prompt('ì·¨ë“ì¼ì„ ì…ë ¥í•˜ì„¸ìš” (YYYY-MM-DD):');
            if (!date) return;
            
            const item = { name, date };
            certificates.push(item);
            renderCertificates();
        }

        function renderCertificates() {
            const list = document.getElementById('certList');
            list.innerHTML = certificates.map((item, index) => `
                <div class="item-card">
                    <div class="item-info">
                        <strong>${item.name}</strong>
                        <small>ì·¨ë“ì¼: ${item.date}</small>
                    </div>
                    <button class="remove-btn" onclick="removeCertificate(${index})">ì‚­ì œ</button>
                </div>
            `).join('');
        }

        function removeCertificate(index) {
            certificates.splice(index, 1);
            renderCertificates();
        }

        function addProject() {
            const name = prompt('í”„ë¡œì íŠ¸ëª…ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!name) return;
            
            const role = prompt('ì—­í• ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!role) return;
            
            const period = prompt('ê¸°ê°„ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 2024.01 - 2024.06):');
            if (!period) return;
            
            const item = { name, role, period };
            projects.push(item);
            renderProjects();
        }

        function renderProjects() {
            const list = document.getElementById('projectList');
            list.innerHTML = projects.map((item, index) => `
                <div class="item-card">
                    <div class="item-info">
                        <strong>${item.name}</strong>
                        <small>${item.role} | ${item.period}</small>
                    </div>
                    <button class="remove-btn" onclick="removeProject(${index})">ì‚­ì œ</button>
                </div>
            `).join('');
        }

        function removeProject(index) {
            projects.splice(index, 1);
            renderProjects();
        }

        function addActivity() {
            const name = prompt('í™œë™ëª…ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!name) return;
            
            const type = prompt('í™œë™ ìœ í˜•ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì¸í„´, ê³µëª¨ì „, ë™ì•„ë¦¬):');
            if (!type) return;
            
            const period = prompt('ê¸°ê°„ì„ ì…ë ¥í•˜ì„¸ìš”:');
            if (!period) return;
            
            const item = { name, type, period };
            activities.push(item);
            renderActivities();
        }

        function renderActivities() {
            const list = document.getElementById('activityList');
            list.innerHTML = activities.map((item, index) => `
                <div class="item-card">
                    <div class="item-info">
                        <strong>${item.name}</strong>
                        <small>${item.type} | ${item.period}</small>
                    </div>
                    <button class="remove-btn" onclick="removeActivity(${index})">ì‚­ì œ</button>
                </div>
            `).join('');
        }

        function removeActivity(index) {
            activities.splice(index, 1);
            renderActivities();
        }

        function completeOnboarding() {
            const specData = {
                jobField: document.getElementById('jobField').value,
                education: {
                    school: document.getElementById('school').value,
                    major: document.getElementById('major').value,
                    gpa: document.getElementById('gpa').value,
                    graduation: document.getElementById('graduation').value
                },
                languages: languages,
                certificates: certificates,
                projects: projects,
                activities: activities,
                introduction: document.getElementById('introduction').value
            };

            StorageManager.saveSpec(specData);
            localStorage.setItem('onboardingComplete', 'true');
            
            goToStep(4);
        }
    </script>
</body>
</html>
